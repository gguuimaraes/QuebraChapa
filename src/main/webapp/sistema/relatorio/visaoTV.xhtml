<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui">
<h:head>
	<h:outputStylesheet library="css" name="visaoTV.css" />
</h:head>
<h:body>
	<script>
		function ext() {
			this.cfg.axes.xaxis.tickOptions.textColor = '#000';
			this.cfg.axes.yaxis.tickOptions.textColor = '#000';
		}
	</script>
	<h:panelGrid id="painel" columns="2" style="width: 100%">
		<p:chart type="pie" model="#{visaoTVController.modelQuebraSetor}" style="margin-left: 5vw; width: 40vw; height: 44vh" />

		<h:panelGrid style="text-align: right; margin: auto; font-family: Arial; font-size: 40px " columns="2">
			<h:outputLabel value="Quebra: " />
			<h:outputLabel value="#{visaoTVController.areaQuebra != null ? visaoTVController.areaQuebra : 0}" style="float: left">
				<f:convertNumber pattern="#,###.## m²" />
			</h:outputLabel>
			<h:outputLabel value="Faturada: " />
			<h:outputLabel value="#{visaoTVController.areaFaturada != null ? visaoTVController.areaFaturada : 0}"
				style="float: left">
				<f:convertNumber pattern="#,###.## m²" />
			</h:outputLabel>
			<h:outputLabel value="Quebra: " />
			<h:outputLabel value="#{visaoTVController.areaQuebra / visaoTVController.areaFaturada * 100}" style="float: left">
				<f:convertNumber pattern="###,##%" />
			</h:outputLabel>
		</h:panelGrid>
	</h:panelGrid>

	<h:panelGrid columns="2">
		<p:chart id="areaQuebraMensal" type="line" model="#{visaoTVController.modelAreaQuebraMensal}" style="width: 49vw" />
		<p:chart id="taxaQuebraMensal" type="line" model="#{visaoTVController.modelTaxaQuebraMensal}" style="width: 49vw" />
	</h:panelGrid>

	<script>
		var painel = document.getElementById('painel');
		var y = 20;
		y += painel.getBoundingClientRect().y;
		y += painel.offsetHeight;
		document.getElementById('areaQuebraMensal').style.height = "calc(100vh - "
				+ y + "px)";
		document.getElementById('taxaQuebraMensal').style.height = "calc(100vh - "
				+ y + "px)";
	</script>
</h:body>
</html>
