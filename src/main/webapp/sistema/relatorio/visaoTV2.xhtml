<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui">
<h:head>
	<h:outputStylesheet library="css" name="visaoTV2.css" />
</h:head>
<h:body style="height: calc(100vh - 10px); margin: 0">
	<script>
		function ext() {
			this.cfg.axes.xaxis.tickOptions.textColor = '#000';
			this.cfg.axes.yaxis.tickOptions.textColor = '#000';
		}
	</script>
	<div class="corpo">
		<h:panelGrid id="l1" styleClass="painel" columns="2" cellspacing="10">
			<h:panelGrid columns="1" styleClass="painel" cellpadding="0" cellspacing="0">
				<h:dataTable styleClass="tabela" value="#{visaoTV2.getPesos('EXPEDICAO')}" var="peso" cellspacing="4">
					<f:facet name="header">
						<div style="color: white; background: ##{visaoTV2.setorExpedicao.cor}">EXPEDIÇÃO</div>
					</f:facet>
					<h:column>
						<f:facet name="header">Funcionário</f:facet>
						<h:outputText value="#{peso.funcionario.nome.substring(0, peso.funcionario.nome.indexOf(' '))}" />
					</h:column>
					<h:column>
						<f:facet name="header">Peso (kg)</f:facet>
						<h:outputText value="#{peso.peso}">
							<f:convertNumber pattern="#,##0.00" />
						</h:outputText>
						<f:facet name="footer">
							<h:outputText value="TOTAL" style="float: left" />
							<h:outputText value="#{visaoTV2.getPesoTotal('EXPEDICAO')}" style="float: right">
								<f:convertNumber pattern="#,##0.00" />
							</h:outputText>
						</f:facet>
					</h:column>
				</h:dataTable>
				<h:dataTable styleClass="tabela" value="#{visaoTV2.getPesos('EXPEDICAO VPE')}" var="peso" cellspacing="4">
				<f:facet name="header">
					<div style="color: white; background: ##{visaoTV2.setorExpedicaoVPE.cor}">EXPEDIÇÃO VPE</div>
				</f:facet>
				<h:column>
					<f:facet name="header">Funcionário</f:facet>
					<h:outputText value="#{peso.funcionario.nome.substring(0, peso.funcionario.nome.indexOf(' '))}" />
				</h:column>
				<h:column>
					<f:facet name="header">Peso (kg)</f:facet>
					<h:outputText value="#{peso.peso}">
						<f:convertNumber pattern="#,##0.00" />
					</h:outputText>
					<f:facet name="footer">
						<h:outputText value="TOTAL" style="float: left" />
						<h:outputText value="#{visaoTV2.getPesoTotal('EXPEDICAO VPE')}" style="float: right">
							<f:convertNumber pattern="#,##0.00" />
						</h:outputText>
					</f:facet>
				</h:column>
			</h:dataTable>
			</h:panelGrid>
			<h:panelGrid columns="2" styleClass="painel" cellpadding="0" cellspacing="0">
				<h:panelGrid columns="1" styleClass="painel" cellpadding="0" cellspacing="0">
					<h:dataTable styleClass="tabela2" value="#{visaoTV2.getPesos('PONTE ROLANTE')}" var="peso" cellspacing="4">
						<f:facet name="header">
							<div style="color: white; background: ##{visaoTV2.setorPonteRolante.cor}">PONTE ROLANTE</div>
						</f:facet>
						<h:column>
							<f:facet name="header">Funcionário</f:facet>
							<h:outputText value="#{peso.funcionario.nome.substring(0, peso.funcionario.nome.indexOf(' '))}" />
							<f:facet name="footer">
								<h:outputText value="TOTAL" style="float: right" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">Peso (kg)</f:facet>
							<h:outputText value="#{peso.peso}">
								<f:convertNumber pattern="#,##0.00" />
							</h:outputText>
							<f:facet name="footer">
								<h:outputText value="#{visaoTV2.getPesoTotal('PONTE ROLANTE')}" style="float: right">
									<f:convertNumber pattern="#,##0.00" />
								</h:outputText>
							</f:facet>
						</h:column>
					</h:dataTable>
					<h:dataTable styleClass="tabela2" value="#{visaoTV2.getPesos('ENTREGA')}" var="peso" cellspacing="4">
						<f:facet name="header">
							<div style="color: white; background: ##{visaoTV2.setorEntrega.cor}">ENTREGA</div>
						</f:facet>
						<h:column>
							<f:facet name="header">Funcionário</f:facet>
							<h:outputText value="#{peso.funcionario.nome.substring(0, peso.funcionario.nome.indexOf(' '))}" />
							<f:facet name="footer">
								<h:outputText value="TOTAL" style="float: right" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">Peso (kg)</f:facet>
							<h:outputText value="#{peso.peso}">
								<f:convertNumber pattern="#,##0.00" />
							</h:outputText>
							<f:facet name="footer">
								<h:outputText value="#{visaoTV2.getPesoTotal('ENTREGA')}" style="float: right">
									<f:convertNumber pattern="#,##0.00" />
								</h:outputText>
							</f:facet>
						</h:column>
					</h:dataTable>
				</h:panelGrid>
				<h:panelGrid columns="1" styleClass="painel" cellpadding="0" cellspacing="0">
					<h:dataTable styleClass="tabela2" value="#{visaoTV2.getAreasCortadas('MESA PEQUENA')}" var="areaCortada"
						cellspacing="4">
						<f:facet name="header">
							<div style="color: white; background: ##{visaoTV2.setorMesaPequena.cor}">MESA PEQUENA</div>
						</f:facet>
						<h:column>
							<f:facet name="header">Funcionário</f:facet>
							<h:outputText value="#{areaCortada.funcionario.nome.substring(0, areaCortada.funcionario.nome.indexOf(' '))}" />
							<f:facet name="footer">
								<h:outputText value="TOTAL" style="float: right" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">Área (m²)</f:facet>
							<h:outputText value="#{areaCortada.area}">
								<f:convertNumber pattern="#,##0.00" />
							</h:outputText>
							<f:facet name="footer">
								<h:outputText value="#{visaoTV2.getAreaTotal('MESA PEQUENA')}" style="float: right">
									<f:convertNumber pattern="#,##0.00" />
								</h:outputText>
							</f:facet>
						</h:column>
					</h:dataTable>
					<h:dataTable styleClass="tabela2" value="#{visaoTV2.getAreasCortadas('MESA GRANDE')}" var="areaCortada"
						cellspacing="4">
						<f:facet name="header">
							<div style="color: white; background: ##{visaoTV2.setorMesaGrande.cor}">MESA GRANDE</div>
						</f:facet>
						<h:column>
							<f:facet name="header">Funcionário</f:facet>
							<h:outputText value="#{areaCortada.funcionario.nome.substring(0, areaCortada.funcionario.nome.indexOf(' '))}" />
							<f:facet name="footer">
								<h:outputText value="TOTAL" style="float: right" />
							</f:facet>
						</h:column>
						<h:column>
							<f:facet name="header">Área (m²)</f:facet>
							<h:outputText value="#{areaCortada.area}">
								<f:convertNumber pattern="#,##0.00" />
							</h:outputText>
							<f:facet name="footer">
								<h:outputText value="#{visaoTV2.getAreaTotal('MESA GRANDE')}" style="float: right">
									<f:convertNumber pattern="#,##0.00" />
								</h:outputText>
							</f:facet>
						</h:column>
					</h:dataTable>
				</h:panelGrid>
			</h:panelGrid>

		</h:panelGrid>

		<h:panelGrid id="l2" styleClass="painel2" columns="2" cellspacing="20">
			<p:chart widgetVar="pesoMensal" type="bar" model="#{visaoTV2.pesoMensal}" style="height: 100%" />

			<p:chart widgetVar="areaMensal" type="bar" model="#{visaoTV2.areaMensal}" style="height: 100%" />
		</h:panelGrid>
		<script>
			document.getElementById('l2').style = "height: calc(100% - " + document.getElementById('l1').offsetHeight + "px";
		</script>
	</div>
</h:body>
</html>
